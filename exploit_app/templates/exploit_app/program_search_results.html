{% extends "exploit_app/base.html" %}

{% block title %}Exploit Discovery - Command Search Results{% endblock %}

{% block content %}
 <div class="container" style="padding-top: 20px;">
   <div class="text-center">
     <div class="col-lg-12">
       <h1 class ="display-4">Program Results</h1>
     </div>
   </div>

    <row style="padding-top: 15px">
      <div class="col-lg-12">
          <div>
              <p>Filters</p>
              {% for filter in filters %}
                <p>{{ filter.name }}: {{ filter.value }}</p>
              {% endfor %}
          </div>

          <p class="col-sm-9">Results: {{ results }}<p>
           <div class="list-group">
             {% for program in page_obj %}
              <a href="/exploit_app/program/{{ program.id }}" class="list-group-item list-group-item-action" target="_blank" aria-current="true">
                <div class="d-flex w-100 justify-content-between">
                  <h5 class="mb-0">{{ program.name }}</h5>
                </div>
                <p class="lead" style="padding-top: 5px">{{ program.description }}.</p>
                <small class="lead">Target: {{ program.target }}</small>
              </a>
            {% endfor %}
          </div>

          <div style="padding-top: 25px" class="pagination">
            <span class="step-links">
                {% if page_obj.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}

                <span class="display-5" class="current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                </span>

                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">next</a>
                    <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
                {% endif %}
            </span>
        </div>
      </div>
  </div>
</div>

{% endblock %}
