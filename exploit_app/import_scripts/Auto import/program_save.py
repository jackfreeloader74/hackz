#this needs to be run the the folder with all the csv files that are going to be imported


from exploit_app import Program, Stage, Attack, Method, References, Tags

# import stages

with open("Stages.csv") as name
    reader = csv.reader(Stages)
    next(reader,None) # skip headers
    for row in reader:
        stage_str = row[0]

        stage = Stage.object.get_or_create(name=stage_str)
        stage.save()

# import references

# import tags

# import attack


# import programs

with open("Progs.csv") as name
    reader = csv.reader(Programs)
    next(reader,None) # skip headers
    for row in reader:
        program_id = row[0]
        name = row[1]
        target = row[2]
        stage_str = row[3]

        # 
        stage = Stage.objects.get(name=stage_str)

        program = Program.objects.get_or_create(pk=program_id, name=name, target=target, stage=stage)
        program.save()           

        
# import methods

# import commands
    

               
               
